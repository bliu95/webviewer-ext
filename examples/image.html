<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="cache-control" content="no-cache" />
    <script
      src="https://thunkable.github.io/webviewer-extension/thunkableWebviewerExtension.js"
      type="text/javascript"
    ></script>
  </head>
  <div>
    <img id="myImg" src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fassets-global.website-files.com%2F63b59edf603862c0120ca170%2F642390fa6b45793b92d1e66e_35.webp&f=1&nofb=1&ipt=f160ec0e6a56fdfbebb55b7221b6cad04e9babeb76ddb2c34ba988f46e2ded7a" alt="The Pulpit Rock" width="100%" height="100%">
  </div>
</html>


<script>
  ThunkableWebviewerExtension.receiveMessage(function (message, callback) {
    if (
      message.type === "should-intercept-webauthn-request" ||
      message.type === "op-window-direct-response"
    ) {
      return;
    }

    try {
      const msgFromApp = JSON.parse(message);
      if (msgFromApp.type === "initializeImage") {
        document.getElementById("myImg").src = msgFromApp.image;
      }

      if (msgFromApp.type === "setImage") {
        document.getElementById("myImg").src = msgFromApp.image;
      }
    } catch (e) {
      console.error(e);
      console.error(
        "An error occurred. Message probably wasn't valid JSON string"
      );
    }
  });

  ThunkableWebviewerExtension.postMessage(
    JSON.stringify({ type: "page loaded" })
  );
</script>
